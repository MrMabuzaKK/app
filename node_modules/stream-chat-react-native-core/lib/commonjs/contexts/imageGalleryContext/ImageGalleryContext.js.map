{"version":3,"sources":["ImageGalleryContext.tsx"],"names":["ImageGalleryContext","React","createContext","DEFAULT_BASE_CONTEXT_VALUE","ImageGalleryProvider","children","images","setImages","image","setImage","imageGalleryContext","useImageGalleryContext","contextValue","Error","withImageGalleryContext","Component","WithImageGalleryContextComponent","props","displayName"],"mappings":";;;;;;;;;;;;;AAAA;;AAIA;;AAEA;;AACA;;;;;;;;;AAWO,IAAMA,mBAAmB,GAAGC,kBAAMC,aAAN,CACjCC,mDADiC,CAA5B;;;;AAIA,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,OAIE;AAAA,MADpCC,QACoC,QADpCA,QACoC;;AACpC,kBAA4B,qBAA4C,EAA5C,CAA5B;AAAA;AAAA,MAAOC,MAAP;AAAA,MAAeC,SAAf;;AACA,mBAA0B,sBAA1B;AAAA;AAAA,MAAOC,KAAP;AAAA,MAAcC,QAAd;;AAEA,MAAMC,mBAAmB,GAAG;AAC1BF,IAAAA,KAAK,EAALA,KAD0B;AAE1BF,IAAAA,MAAM,EAANA,MAF0B;AAG1BG,IAAAA,QAAQ,EAARA,QAH0B;AAI1BF,IAAAA,SAAS,EAATA;AAJ0B,GAA5B;AAOA,SACE,gCAAC,mBAAD,CAAqB,QAArB;AACE,IAAA,KAAK,EAAEG,mBADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGGL,QAHH,CADF;AAOD,CAtBM;;;;AAwBA,IAAMM,sBAAsB,GAAG,SAAzBA,sBAAyB,GAE/B;AACL,MAAMC,YAAY,GAAG,uBACnBZ,mBADmB,CAArB;;AAIA,MAAIY,YAAY,KAAKT,mDAAjB,IAA+C,CAAC,2CAApD,EAAyE;AACvE,UAAM,IAAIU,KAAJ,sPAAN;AAGD;;AAED,SAAOD,YAAP;AACD,CAdM;;;;AAgBA,IAAME,uBAAuB,GAAG,SAA1BA,uBAA0B,CAIrCC,SAJqC,EAKqC;AAC1E,MAAMC,gCAAgC,GAAG,SAAnCA,gCAAmC,CACvCC,KADuC,EAEpC;AACH,QAAMP,mBAAmB,GAAGC,sBAAsB,EAAlD;AAEA,WAAO,gCAAC,SAAD,gCAAgBM,KAAhB,EAAiCP,mBAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;AACD,GAND;;AAOAM,EAAAA,gCAAgC,CAACE,WAAjC,+BAAyE,oCACvEH,SADuE,CAAzE;AAGA,SAAOC,gCAAP;AACD,CAjBM","sourcesContent":["import React, { PropsWithChildren, useContext, useState } from 'react';\n\nimport type { MessageType } from '../../components/MessageList/hooks/useMessageList';\nimport type { DefaultStreamChatGenerics, UnknownType } from '../../types/types';\nimport { DEFAULT_BASE_CONTEXT_VALUE } from '../utils/defaultBaseContextValue';\n\nimport { getDisplayName } from '../utils/getDisplayName';\nimport { isTestEnvironment } from '../utils/isTestEnvironment';\n\nexport type ImageGalleryContextValue<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = {\n  images: MessageType<StreamChatGenerics>[];\n  setImage: React.Dispatch<React.SetStateAction<{ messageId?: string; url?: string } | undefined>>;\n  setImages: React.Dispatch<React.SetStateAction<MessageType<StreamChatGenerics>[]>>;\n  image?: { messageId?: string; url?: string };\n};\n\nexport const ImageGalleryContext = React.createContext(\n  DEFAULT_BASE_CONTEXT_VALUE as ImageGalleryContextValue,\n);\n\nexport const ImageGalleryProvider = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>({\n  children,\n}: PropsWithChildren<UnknownType>) => {\n  const [images, setImages] = useState<MessageType<StreamChatGenerics>[]>([]);\n  const [image, setImage] = useState<{ messageId?: string; url?: string }>();\n\n  const imageGalleryContext = {\n    image,\n    images,\n    setImage,\n    setImages,\n  };\n\n  return (\n    <ImageGalleryContext.Provider\n      value={imageGalleryContext as unknown as ImageGalleryContextValue}\n    >\n      {children}\n    </ImageGalleryContext.Provider>\n  );\n};\n\nexport const useImageGalleryContext = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>() => {\n  const contextValue = useContext(\n    ImageGalleryContext,\n  ) as unknown as ImageGalleryContextValue<StreamChatGenerics>;\n\n  if (contextValue === DEFAULT_BASE_CONTEXT_VALUE && !isTestEnvironment()) {\n    throw new Error(\n      `The useImageGalleryContext hook was called outside the ImageGalleryContext Provider. Make sure you have configured OverlayProvider component correctly - https://getstream.io/chat/docs/sdk/reactnative/basics/hello_stream_chat/#overlay-provider`,\n    );\n  }\n\n  return contextValue as ImageGalleryContextValue<StreamChatGenerics>;\n};\n\nexport const withImageGalleryContext = <\n  P extends UnknownType,\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  Component: React.ComponentType<P>,\n): React.FC<Omit<P, keyof ImageGalleryContextValue<StreamChatGenerics>>> => {\n  const WithImageGalleryContextComponent = (\n    props: Omit<P, keyof ImageGalleryContextValue<StreamChatGenerics>>,\n  ) => {\n    const imageGalleryContext = useImageGalleryContext<StreamChatGenerics>();\n\n    return <Component {...(props as P)} {...imageGalleryContext} />;\n  };\n  WithImageGalleryContextComponent.displayName = `WithImageGalleryContext${getDisplayName(\n    Component,\n  )}`;\n  return WithImageGalleryContextComponent;\n};\n"]}