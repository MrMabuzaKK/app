{"version":3,"sources":["utils.ts"],"names":["moveChannelUp","cid","channels","index","findIndex","c","channel","splice","unshift","getChannel","client","id","type","watch","DEFAULT_QUERY_CHANNELS_LIMIT","MAX_QUERY_CHANNELS_LIMIT"],"mappings":";;;;;;;;;;;;;AAWO,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,OAKa;AAAA,MAFxCC,GAEwC,QAFxCA,GAEwC;AAAA,2BADxCC,QACwC;AAAA,MADxCA,QACwC,8BAD7B,EAC6B;AAExC,MAAMC,KAAK,GAAGD,QAAQ,CAACE,SAAT,CAAmB,UAACC,CAAD;AAAA,WAAOA,CAAC,CAACJ,GAAF,KAAUA,GAAjB;AAAA,GAAnB,CAAd;AACA,MAAIE,KAAK,IAAI,CAAb,EAAgB,OAAOD,QAAP;AAChB,MAAMI,OAAO,GAAGJ,QAAQ,CAACC,KAAD,CAAxB;AAGAD,EAAAA,QAAQ,CAACK,MAAT,CAAgBJ,KAAhB,EAAuB,CAAvB;AACAD,EAAAA,QAAQ,CAACM,OAAT,CAAiBF,OAAjB;AAEA,6CAAWJ,QAAX;AACD,CAhBM;;;;AA0BA,IAAMO,UAAU;AAAA,8EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAGxBC,YAAAA,MAHwB,SAGxBA,MAHwB,EAIxBC,EAJwB,SAIxBA,EAJwB,EAKxBC,IALwB,SAKxBA,IALwB;AAOlBN,YAAAA,OAPkB,GAORI,MAAM,CAACJ,OAAP,CAAeM,IAAf,EAAqBD,EAArB,CAPQ;AAAA;AAAA,mBAQlBL,OAAO,CAACO,KAAR,EARkB;;AAAA;AAAA,6CASjBP,OATiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVG,UAAU;AAAA;AAAA;AAAA,GAAhB;;;AAYA,IAAMK,4BAA4B,GAAG,EAArC;;AACA,IAAMC,wBAAwB,GAAG,EAAjC","sourcesContent":["import type { Channel, StreamChat } from 'stream-chat';\n\nimport type { DefaultStreamChatGenerics } from '../../types/types';\n\ntype MoveParameters<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = {\n  channels: Channel<StreamChatGenerics>[];\n  cid: string;\n};\n\nexport const moveChannelUp = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>({\n  cid,\n  channels = [],\n}: MoveParameters<StreamChatGenerics>) => {\n  // get channel from channels\n  const index = channels.findIndex((c) => c.cid === cid);\n  if (index <= 0) return channels;\n  const channel = channels[index];\n\n  // remove channel from current position and add to start\n  channels.splice(index, 1);\n  channels.unshift(channel);\n\n  return [...channels];\n};\n\ntype GetParameters<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = {\n  client: StreamChat<StreamChatGenerics>;\n  id: string;\n  type: string;\n};\n\nexport const getChannel = async <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>({\n  client,\n  id,\n  type,\n}: GetParameters<StreamChatGenerics>) => {\n  const channel = client.channel(type, id);\n  await channel.watch();\n  return channel;\n};\n\nexport const DEFAULT_QUERY_CHANNELS_LIMIT = 10;\nexport const MAX_QUERY_CHANNELS_LIMIT = 30;\n"]}