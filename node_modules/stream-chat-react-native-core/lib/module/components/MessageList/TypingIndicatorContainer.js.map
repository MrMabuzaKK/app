{"version":3,"sources":["TypingIndicatorContainer.tsx"],"names":["styles","StyleSheet","create","container","bottom","position","width","TypingIndicatorContainerWithContext","props","children","client","thread","typing","typingIndicatorContainer","theme","messageList","typingUsers","length","TypingIndicatorContainer","displayName"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA;;AAEA;;AACA;;AACA;;AACA;;;;;AAIA,IAAMA,MAAM,GAAGC,wBAAWC,MAAX,CAAkB;AAC/BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,MAAM,EAAE,CADC;AAETC,IAAAA,QAAQ,EAAE,UAFD;AAGTC,IAAAA,KAAK,EAAE;AAHE;AADoB,CAAlB,CAAf;;AAcA,IAAMC,mCAAmC,GAAG,SAAtCA,mCAAsC,CAG1CC,KAH0C,EAIvC;AACH,MAAQC,QAAR,GAA6CD,KAA7C,CAAQC,QAAR;AAAA,MAAkBC,MAAlB,GAA6CF,KAA7C,CAAkBE,MAAlB;AAAA,MAA0BC,MAA1B,GAA6CH,KAA7C,CAA0BG,MAA1B;AAAA,MAAkCC,MAAlC,GAA6CJ,KAA7C,CAAkCI,MAAlC;;AAEA,kBAII,6BAJJ;AAAA,MAEmBC,wBAFnB,aACEC,KADF,CAEIC,WAFJ,CAEmBF,wBAFnB;;AAKA,MAAMG,WAAW,GAAG,0CAAkB;AAAEN,IAAAA,MAAM,EAANA,MAAF;AAAUC,IAAAA,MAAM,EAANA,MAAV;AAAkBC,IAAAA,MAAM,EAANA;AAAlB,GAAlB,CAApB;;AAEA,MAAI,CAACI,WAAW,CAACC,MAAjB,EAAyB;AACvB,WAAO,IAAP;AACD;;AAED,SACE,gCAAC,iBAAD;AAAM,IAAA,KAAK,EAAE,CAACjB,MAAM,CAACG,SAAR,EAAmBU,wBAAnB,CAAb;AAA2D,IAAA,MAAM,EAAC,4BAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGJ,QADH,CADF;AAKD,CAvBD;;AA6BO,IAAMS,wBAAwB,GAAG,SAA3BA,wBAA2B,CAGtCV,KAHsC,EAInC;AACH,0BAAmB,sCAAnB;AAAA,MAAQI,MAAR,qBAAQA,MAAR;;AACA,wBAAmB,kCAAnB;AAAA,MAAQF,MAAR,mBAAQA,MAAR;;AACA,0BAAmB,sCAAnB;AAAA,MAAQC,MAAR,qBAAQA,MAAR;;AAEA,SAAO,gCAAC,mCAAD;AAA2CD,IAAAA,MAAM,EAANA,MAA3C;AAAmDC,IAAAA,MAAM,EAANA,MAAnD;AAA2DC,IAAAA,MAAM,EAANA;AAA3D,KAAyEJ,KAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;AACD,CAVM;;;AAYPU,wBAAwB,CAACC,WAAzB,GACE,iEADF","sourcesContent":["import React, { PropsWithChildren } from 'react';\nimport { StyleSheet, View } from 'react-native';\n\nimport { filterTypingUsers } from './utils/filterTypingUsers';\n\nimport { ChatContextValue, useChatContext } from '../../contexts/chatContext/ChatContext';\nimport { useTheme } from '../../contexts/themeContext/ThemeContext';\nimport { ThreadContextValue, useThreadContext } from '../../contexts/threadContext/ThreadContext';\nimport { TypingContextValue, useTypingContext } from '../../contexts/typingContext/TypingContext';\n\nimport type { DefaultStreamChatGenerics } from '../../types/types';\n\nconst styles = StyleSheet.create({\n  container: {\n    bottom: 0,\n    position: 'absolute',\n    width: '100%',\n  },\n});\n\ntype TypingIndicatorContainerPropsWithContext<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = Pick<TypingContextValue<StreamChatGenerics>, 'typing'> &\n  Pick<ChatContextValue<StreamChatGenerics>, 'client'> &\n  Pick<ThreadContextValue<StreamChatGenerics>, 'thread'>;\n\nconst TypingIndicatorContainerWithContext = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  props: PropsWithChildren<TypingIndicatorContainerPropsWithContext<StreamChatGenerics>>,\n) => {\n  const { children, client, thread, typing } = props;\n\n  const {\n    theme: {\n      messageList: { typingIndicatorContainer },\n    },\n  } = useTheme();\n  const typingUsers = filterTypingUsers({ client, thread, typing });\n\n  if (!typingUsers.length) {\n    return null;\n  }\n\n  return (\n    <View style={[styles.container, typingIndicatorContainer]} testID='typing-indicator-container'>\n      {children}\n    </View>\n  );\n};\n\nexport type TypingIndicatorContainerProps<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = Partial<TypingIndicatorContainerPropsWithContext<StreamChatGenerics>>;\n\nexport const TypingIndicatorContainer = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  props: PropsWithChildren<TypingIndicatorContainerProps<StreamChatGenerics>>,\n) => {\n  const { typing } = useTypingContext<StreamChatGenerics>();\n  const { client } = useChatContext<StreamChatGenerics>();\n  const { thread } = useThreadContext<StreamChatGenerics>();\n\n  return <TypingIndicatorContainerWithContext {...{ client, thread, typing }} {...props} />;\n};\n\nTypingIndicatorContainer.displayName =\n  'TypingIndicatorContainer{messageList{typingIndicatorContainer}}';\n"]}